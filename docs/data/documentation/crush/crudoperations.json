{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Start-with-Session","level":2,"type":"heading","text":"Start with Session"},{"type":"paragraph","inlineContent":[{"type":"text","text":"All data mutation in Crush must be completed through a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Crush\/documentation\/Crush\/Session"},{"type":"text","text":". You can create a session by calling "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Crush\/documentation\/Crush\/DataContainer\/startSession(name:)"},{"type":"text","text":". All data mutation would not be persisted until you call "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Crush\/documentation\/Crush\/Session\/commit()"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["let session = dataContainer.startSession()","","try session.sync { context in","    \/*","        Do something","    *\/","    try context.commit() \/\/ Persist the changes","}"]},{"anchor":"Create-Operation","level":2,"type":"heading","text":"Create Operation"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can create an entity by calling "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Crush\/documentation\/Crush\/SessionContext\/create(entity:)"}]},{"type":"codeListing","syntax":"swift","code":["try session.sync { context in","    let todo = context.create(entity: Todo.self)","    todo.title = \"todo title\"","    \/\/ setup the entity here","    try context.commit()","}"]},{"anchor":"Read-Operation","level":2,"type":"heading","text":"Read Operation"},{"anchor":"Load-by-NSManagedObjectID","level":3,"type":"heading","text":"Load by NSManagedObjectID"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can load an entity by calling "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Crush\/documentation\/Crush\/SessionContext\/load(objectID:isFault:)"}]},{"type":"codeListing","syntax":"swift","code":["session.sync { context in","    let todo = context.load(objectID: injectedObjectID)","}"]},{"anchor":"Fetch-objects","level":3,"type":"heading","text":"Fetch objects"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can fetch objects by building a fetch request through "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Crush\/documentation\/Crush\/SessionContext\/fetch(for:)"}]},{"type":"codeListing","syntax":"swift","code":["session.sync { context in","    let todo = context.fetch(for: Todo.self)","        .where(\\.title == \"target title\")","        .findOne()","}"]},{"anchor":"Update-Operation","level":2,"type":"heading","text":"Update Operation"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can edit a readonly object by "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Crush\/documentation\/Crush\/SessionContext\/edit(object:)"}]},{"type":"codeListing","syntax":"swift","code":["try session.sync { context in","    let editableTodo = context.edit(object: todo)","    editableTodo.title = \"new title\"","    try context.commit()","}"]},{"anchor":"Delete-Operation","level":2,"type":"heading","text":"Delete Operation"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can delete an object by "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Crush\/documentation\/Crush\/SessionContext\/delete(_:)"}]},{"type":"codeListing","syntax":"swift","code":["try session.sync { context in","    context.delete(todo)","    try context.commit()","}"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/crush\/crudoperations"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Crush\/documentation\/Crush\/CRUDOperations","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Simple example of CRUD Operations in Crush"}],"kind":"article","metadata":{"roleHeading":"Article","title":"CRUD Operations","role":"article","modules":[{"name":"Crush"}]},"hierarchy":{"paths":[["doc:\/\/Crush\/documentation\/Crush"]]},"seeAlsoSections":[{"title":"Getting started","identifiers":["doc:\/\/Crush\/documentation\/Crush\/Concepts","doc:\/\/Crush\/documentation\/Crush\/QuickStart"],"generated":true}],"references":{"doc://Crush/documentation/Crush/SessionContext/delete(_:)":{"role":"symbol","title":"delete(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"delete"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"typeIdentifier","text":"ManagedObject","preciseIdentifier":"s:5Crush13ManagedObjectC"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":">)"}],"abstract":[{"type":"text","text":"Deletes the given managed object."}],"identifier":"doc:\/\/Crush\/documentation\/Crush\/SessionContext\/delete(_:)","kind":"symbol","type":"topic","url":"\/documentation\/crush\/sessioncontext\/delete(_:)"},"doc://Crush/documentation/Crush/SessionContext/create(entity:)":{"role":"symbol","title":"create(entity:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"create"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"externalParam","text":"entity"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":".Type) -> "},{"kind":"typeIdentifier","text":"ManagedObject","preciseIdentifier":"s:5Crush13ManagedObjectC"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"Creates a managed object of the given entity type."}],"identifier":"doc:\/\/Crush\/documentation\/Crush\/SessionContext\/create(entity:)","kind":"symbol","type":"topic","url":"\/documentation\/crush\/sessioncontext\/create(entity:)"},"doc://Crush/documentation/Crush/SessionContext/edit(object:)":{"role":"symbol","title":"edit(object:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"edit"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"externalParam","text":"object"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"ReadOnly","preciseIdentifier":"s:5Crush13ReadaleObjectPA2A6EntityCRbzrlE8ReadOnlya"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"ManagedObject","preciseIdentifier":"s:5Crush13ManagedObjectC"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"Edits the given read-only object and returns a new managed object with the changes applied."}],"identifier":"doc:\/\/Crush\/documentation\/Crush\/SessionContext\/edit(object:)","kind":"symbol","type":"topic","url":"\/documentation\/crush\/sessioncontext\/edit(object:)"},"doc://Crush/documentation/Crush/Session":{"role":"symbol","title":"Session","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Session"}],"abstract":[],"identifier":"doc:\/\/Crush\/documentation\/Crush\/Session","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Session"}],"url":"\/documentation\/crush\/session"},"doc://Crush/documentation/Crush/Session/commit()":{"role":"symbol","title":"commit()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"commit"},{"kind":"text","text":"() "},{"kind":"keyword","text":"throws"}],"abstract":[{"type":"text","text":"Commits the changes made to the sessionâ€™s context."}],"identifier":"doc:\/\/Crush\/documentation\/Crush\/Session\/commit()","kind":"symbol","type":"topic","url":"\/documentation\/crush\/session\/commit()"},"doc://Crush/documentation/Crush/QuickStart":{"role":"article","title":"Quick Start","abstract":[{"type":"text","text":"This guide aims to provide an understanding of the foundational concepts of the framework before exploring its comprehensive feature set."}],"identifier":"doc:\/\/Crush\/documentation\/Crush\/QuickStart","kind":"article","type":"topic","url":"\/documentation\/crush\/quickstart"},"doc://Crush/documentation/Crush/SessionContext/load(objectID:isFault:)":{"role":"symbol","title":"load(objectID:isFault:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"load"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"externalParam","text":"objectID"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"NSManagedObjectID","preciseIdentifier":"c:objc(cs)NSManagedObjectID"},{"kind":"text","text":", "},{"kind":"externalParam","text":"isFault"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"ManagedObject","preciseIdentifier":"s:5Crush13ManagedObjectC"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":">?"}],"abstract":[{"type":"text","text":"A public function to load a managed object of the specified entity type with the specified object ID."}],"identifier":"doc:\/\/Crush\/documentation\/Crush\/SessionContext\/load(objectID:isFault:)","kind":"symbol","type":"topic","url":"\/documentation\/crush\/sessioncontext\/load(objectid:isfault:)"},"doc://Crush/documentation/Crush/SessionContext/fetch(for:)":{"role":"symbol","title":"fetch(for:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"fetch"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"externalParam","text":"for"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":".Type) -> "},{"kind":"typeIdentifier","text":"ManagedFetchBuilder","preciseIdentifier":"s:5Crush19ManagedFetchBuilderC"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":">"}],"abstract":[],"identifier":"doc:\/\/Crush\/documentation\/Crush\/SessionContext\/fetch(for:)","kind":"symbol","type":"topic","url":"\/documentation\/crush\/sessioncontext\/fetch(for:)"},"doc://Crush/documentation/Crush/Concepts":{"role":"article","title":"Concepts","abstract":[{"type":"text","text":"Basic concepts behind "},{"type":"codeVoice","code":"Crush"}],"identifier":"doc:\/\/Crush\/documentation\/Crush\/Concepts","kind":"article","type":"topic","url":"\/documentation\/crush\/concepts"},"doc://Crush/documentation/Crush/DataContainer/startSession(name:)":{"role":"symbol","title":"startSession(name:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"startSession"},{"kind":"text","text":"("},{"kind":"externalParam","text":"name"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Session","preciseIdentifier":"s:5Crush7SessionC"}],"abstract":[{"type":"text","text":"Create a working session."}],"identifier":"doc:\/\/Crush\/documentation\/Crush\/DataContainer\/startSession(name:)","kind":"symbol","type":"topic","url":"\/documentation\/crush\/datacontainer\/startsession(name:)"},"doc://Crush/documentation/Crush":{"role":"collection","title":"Crush","abstract":[{"type":"text","text":"Enhance the development experience with CoreData by providing greater type-safety and intuitive functionality"}],"identifier":"doc:\/\/Crush\/documentation\/Crush","kind":"symbol","type":"topic","url":"\/documentation\/crush"}}}